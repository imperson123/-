# 时序图文档

## 1. 模型加载时序图

```
ArkTS App    NAPI      InferenceEngine    BackendManager    HiAIBackend    HiAI Engine
   │          │              │                   │                │              │
   │ loadModel│              │                   │                │              │
   │─────────>│              │                   │                │              │
   │          │ convertPath()│                   │                │              │
   │          │─────────────>│                   │                │              │
   │          │              │ loadModel()       │                │              │
   │          │              │─────────────────>│                │              │
   │          │              │                   │ selectBackend()│              │
   │          │              │                   │───────────────>│              │
   │          │              │                   │                │ init()       │
   │          │              │                   │                │─────────────>│
   │          │              │                   │                │              │
   │          │              │                   │                │ loadModel()  │
   │          │              │                   │                │─────────────>│
   │          │              │                   │                │<─────────────│
   │          │              │                   │<───────────────│              │
   │          │              │<──────────────────│                │              │
   │          │<─────────────│                   │                │              │
   │<──────────│              │                   │                │              │
```

## 2. 推理执行时序图

```
ArkTS App    NAPI      InferenceEngine    BackendManager    HiAIBackend    HiAI Engine
   │          │              │                   │                │              │
   │inference │              │                   │                │              │
   │─────────>│              │                   │                │              │
   │          │ convertInput()│                   │                │              │
   │          │─────────────>│                   │                │              │
   │          │              │ inference()       │                │              │
   │          │              │─────────────────>│                │              │
   │          │              │                   │ selectBackend()│              │
   │          │              │                   │───────────────>│              │
   │          │              │                   │                │ execute()    │
   │          │              │                   │                │─────────────>│
   │          │              │                   │                │              │
   │          │              │                   │                │<─────────────│
   │          │              │                   │<───────────────│              │
   │          │              │<──────────────────│                │              │
   │          │ convertOutput()                  │                │              │
   │          │<─────────────│                   │                │              │
   │<──────────│              │                   │                │              │
```

---

*最后更新：2025-01-XX*



