webpackJsonp([11],{DLe7:function(t,e){},PHXc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Xxa5"),r=a.n(o),i=a("exGp"),s=a.n(i),n=a("7+uW"),l={name:"network",data:function(){return{NET_data:[0,0,0,0,0,0,0,0]}},methods:{myEcharts:function(t,e,a){for(var o,r,i=[],s=0;s<30;s++)i.push(((30-s)/1).toString()+"秒前");i.splice(29,1,"现在"),t.setOption((o=e,r=a,{animation:!1,grid:{x:40,y:50,x2:40,y2:30,containLabel:!0},title:{top:"5%",left:"center",text:"以太网传输速率",textStyle:{color:"#FFF"}},tooltip:{trigger:"axis",axisPointer:{animation:!1},appendToBody:!0,formatter:function(t){for(var e=t[0].name,a=0,o=t.length;a<o;a++)e+="<br/>"+t[a].marker+t[a].seriesName+": "+t[a].value+"KB/s";return e}},legend:{orient:"vertical",x:"right",y:"top",show:!0,data:["接收速率","发送速率"],textStyle:{color:"#FFF"}},xAxis:[{show:!0,type:"category",boundaryGap:!1,data:i,axisLine:{lineStyle:{type:"solid",color:"#eeeeee"}},axisLabel:{textStyle:{color:"#eeeeee"},interval:i.length/5-1,showMaxLabel:!0}}],yAxis:[{type:"value",axisLine:{lineStyle:{type:"solid",color:"#eeeeee"}},axisLabel:{textStyle:{color:"#eeeeee"},formatter:"{value}kB/s"}}],series:[{name:"接收速率",type:"line",showSymbol:!1,data:o},{name:"发送速率",type:"line",showSymbol:!1,data:r,itemStyle:{normal:{lineStyle:{type:"dotted"}}}}]}))},myGraph1:function(t){var e={tooltip:{trigger:"item"},color:["#e06343","#d0db55"],title:{top:"5%",left:"center",text:"以太网传输丢包情况",textStyle:{color:"#FFF"}},legend:{type:"scroll",orient:"vertical",right:1,top:"40%",bottom:20,textStyle:{color:"#FFF"}},series:[{name:"以太网传输丢包情况",type:"pie",radius:["40%","70%"],center:["38%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:parseFloat(this.NET_data.dropin),name:"接收丢包"},{value:parseFloat(this.NET_data.dropout),name:"发送丢包"}]}]};t.setOption(e)},myGraph2:function(t){var e={color:["#37A2DA","#8378EA"],tooltip:{trigger:"item"},title:{top:"5%",left:"center",text:"以太网传输错误包情况",textStyle:{color:"#FFF"}},legend:{type:"scroll",orient:"vertical",right:1,top:"40%",bottom:20,textStyle:{color:"#FFF"}},series:[{name:"以太网传输错误包情况",type:"pie",radius:["40%","70%"],center:["38%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:parseFloat(this.NET_data.errin),name:"接收错误包"},{value:parseFloat(this.NET_data.errout),name:"发送错误包"}]}]};t.setOption(e)},myGraph3:function(t){var e={color:["#37a354","#b55dba"],tooltip:{trigger:"item"},title:{top:"5%",left:"center",text:"以太网传输正常包情况",textStyle:{color:"#FFF"}},legend:{type:"scroll",orient:"vertical",right:1,top:"40%",bottom:20,textStyle:{color:"#FFF"}},series:[{name:"以太网传输正常包情况",type:"pie",radius:["40%","70%"],center:["38%","55%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:parseFloat(this.NET_data.packets_recv),name:"接收正常包"},{value:parseFloat(this.NET_data.packets_sent),name:"发送正常包"}]}]};t.setOption(e)},getData:function(){for(var t,e=(t=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.$axios.get("api/monitor/status",{cancelToken:new v(function(t){n.default.$httpRequestList.push(t)})}).then(function(t){d.NET_data=t.data.net_data}).catch(function(t){console.error(t)});case 2:for(e=0;e<h;e++)0===f?(f=1,c.push(0),p.push(0)):(c.push(parseFloat((parseFloat(d.NET_data.bytes_recv-m)/Math.pow(2,10)).toFixed(3))),p.push(parseFloat((parseFloat(d.NET_data.bytes_sent-y)/Math.pow(2,10)).toFixed(3)))),m=d.NET_data.bytes_recv,y=d.NET_data.bytes_sent;c.splice(0,h),p.splice(0,h),d.myEcharts(a,c,p),d.myGraph1(o),d.myGraph2(i),d.myGraph3(l);case 9:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)}),a=this.$echarts.init(document.getElementById("graph1")),o=this.$echarts.init(document.getElementById("graph2")),i=this.$echarts.init(document.getElementById("graph3")),l=this.$echarts.init(document.getElementById("graph4")),d=this,c=[],p=[],h=1,u=0;u<30*h;u++)c.push(0),p.push(0);var m,y,f=0,v=this.$axios.CancelToken;e(),this.timer=setInterval(function(){e()},1e3),window.onresize=function(){a.resize(),o.resize(),i.resize(),l.resize()}}},mounted:function(){this.getData()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-container",[e("el-header",{attrs:{height:"2%",width:"100%"}}),this._v(" "),e("el-main",{attrs:{width:"100%",height:"100%"}},[e("div",{staticClass:"TopBox",attrs:{id:"graph1"}}),this._v(" "),e("div",{staticClass:"BottomBox_left",attrs:{id:"graph2"}}),this._v(" "),e("div",{staticClass:"BottomBox_middle",attrs:{id:"graph3"}}),this._v(" "),e("div",{staticClass:"BottomBox_right",attrs:{id:"graph4"}})])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(l,d,!1,function(t){a("DLe7")},"data-v-d71fc358",null);e.default=c.exports}});
//# sourceMappingURL=11.e88fefc5edf6c672ef90.js.map